<% title 'トップページ' %>

<div class="container-wrapper">
  <section class="py-10 mb-8 px-2 text-center text-white">
    <h1 class="mb-4">
      <%= image_tag 'logo.png', alt: 'ロゴ', class: 'h-[300px] md:h-[400px] mx-auto' %>
    </h1>
    <p class="drop-shadow-md text-lg font-bold tracking-wider">Fjord Bootcampのアドベントカレンダー</p>
    <% if current_user&.admin? %>
      <%= link_to 'カレンダーを作成', new_calendar_path,
                  class: 'mt-8 inline-block border-2 border-white px-4 py-2 rounded-lg font-semibold hover:bg-white/10' %>
    <% end %>
  </section>

  <% if @calendars.empty? %>
    <div class="bg-light-ochre/80 rounded-lg min-h-72 flex items-center justify-center px-4">
      <div class="text-center space-y-3">
        <i class="fas fa-calendar-times text-4xl"></i>
        <p class="text-lg font-semibold">登録されたカレンダーはありません</p>
      </div>
    </div>
  <% end %>

  <% @calendars.each do |calendar| %>
    <article class="mb-10">
      <%= link_to calendar_path(calendar),
                  data: { test: 'calendar', year: calendar.year },
                  class: 'bg-ochre block p-6 rounded-xl shadow-xl space-y-4 hover-border-white' do %>
        <h2 class="text-white drop-shadow-md text-lg font-bold text-center"><%= calendar.title %></h2>
        <%= render 'calendar_index', entries: calendar.entries %>
      <% end %>
    </article>
  <% end %>
</div>
